<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>numpygraph.core package &mdash; numpygraph  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="numpygraph.datasets package" href="numpygraph.datasets.html" />
    <link rel="prev" title="numpygraph package" href="numpygraph.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> numpygraph
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">numpygraph</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="numpygraph.html">numpygraph package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="numpygraph.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">numpygraph.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="numpygraph.datasets.html">numpygraph.datasets package</a></li>
<li class="toctree-l4"><a class="reference internal" href="numpygraph.lib.html">numpygraph.lib package</a></li>
<li class="toctree-l4"><a class="reference internal" href="numpygraph.test.html">numpygraph.test package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph.context">numpygraph.context module</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph.dag_load">numpygraph.dag_load module</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph.load">numpygraph.load module</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph.mergeindex">numpygraph.mergeindex module</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph.read">numpygraph.read module</a></li>
<li class="toctree-l3"><a class="reference internal" href="numpygraph.html#module-numpygraph">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">numpygraph</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">numpygraph</a> &raquo;</li>
          <li><a href="numpygraph.html">numpygraph package</a> &raquo;</li>
      <li>numpygraph.core package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/numpygraph.core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="numpygraph-core-package">
<h1>numpygraph.core package<a class="headerlink" href="#numpygraph-core-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-numpygraph.core.arraydict">
<span id="numpygraph-core-arraydict-module"></span><h2>numpygraph.core.arraydict module<a class="headerlink" href="#module-numpygraph.core.arraydict" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="numpygraph.core.arraydict.HashSplitDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">numpygraph.core.arraydict.</span></span><span class="sig-name descname"><span class="pre">HashSplitDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.int32'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hlen=64</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraydict.HashSplitDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Organize split dictionaries, currently not used</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="numpygraph.core.arraydict.ArrayDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">numpygraph.core.arraydict.</span></span><span class="sig-name descname"><span class="pre">ArrayDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item_size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_heap_rate=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memmap=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memmap_path=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memmap_mode='r+'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_dtype=&lt;class</span> <span class="pre">'numpy.int32'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_get_cursor=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraydict.ArrayDict" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Dictionary based on numpy memmap.</p>
<p>The dictionary will be mapped in a file on dish while can be used as a normal dict after providing the correct memmap_path in <code class="xref py py-func docutils literal notranslate"><span class="pre">numpygraph.core.arraydict.__init__()</span></code>. Either create an object of ArrayDict when writing to file or when reading from file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item_size</strong> (<em>int</em>) – intended size of dict, only specify when creating an ArrayDict object</p></li>
<li><p><strong>memmap</strong> (<em>boolean</em>) – whether to memmap the dict to file on disk</p></li>
<li><p><strong>memmap_path</strong> (<em>str</em>) – path to memmaped file</p></li>
<li><p><strong>memmap_mode</strong> (<em>str</em>) – read from or write to file on disk</p></li>
<li><p><strong>value_dtype</strong> (<em>dtype</em>) – type of data mapped to file, need to specify on both write and read</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-numpygraph.core.arraylist">
<span id="numpygraph-core-arraylist-module"></span><h2>numpygraph.core.arraylist module<a class="headerlink" href="#module-numpygraph.core.arraylist" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="numpygraph.core.arraylist.ArrayList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">numpygraph.core.arraylist.</span></span><span class="sig-name descname"><span class="pre">ArrayList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraylist.ArrayList" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A list based on numpy memmap</p>
<p>Similar to <code class="xref py py-class docutils literal notranslate"><span class="pre">numpygraph.core.arraydict.arraylist</span></code>, we can use this as a normal list (with a few tweaks), while this class writes the list to file(s) on disk. Reading is also creating an ArrayList object, specifiying where to read from.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – path to file(s) on disk</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em>) – maximum number of list items in a single file on disk.</p></li>
<li><p><strong>dtype</strong> (<em>dtype</em>) – type of list item</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="numpygraph.core.arraylist.ArrayList.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraylist.ArrayList.append" title="Permalink to this definition"></a></dt>
<dd><p>Append value to end of list.</p>
<p>Can be used as if this is the Python built-in list. When we add some item to ArrayList, they are put into a temporal list (Python builtin list) rather than directly written in list. After the number of items in the temporal list reaches chunk_size, the list will be automaticlly flushed. For this reason, there might be a small delay in some append actions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>your own dtype</em>) – value to append</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>No return value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="numpygraph.core.arraylist.ArrayList.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraylist.ArrayList.close" title="Permalink to this definition"></a></dt>
<dd><p>Close the current ArrayList.</p>
<p>When closing, we would flush all list items in cache list to file on disk. And if merge is set to True, all files on folder written by this ArrayList would be merged into a single numpy memmap file. Otherwise, we would perform no operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>merge</strong> (<em>boolean</em>) – whether to merge all small chunks to a single memmap file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of files the ArrayList has wrote to disk</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="numpygraph.core.arraylist.ArrayList.path">
<span class="sig-name descname"><span class="pre">path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.arraylist.ArrayList.path" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-numpygraph.core.hash">
<span id="numpygraph-core-hash-module"></span><h2>numpygraph.core.hash module<a class="headerlink" href="#module-numpygraph.core.hash" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="numpygraph.core.hash.chash">
<span class="sig-prename descclassname"><span class="pre">numpygraph.core.hash.</span></span><span class="sig-name descname"><span class="pre">chash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.hash.chash" title="Permalink to this definition"></a></dt>
<dd><p>The hashing function of numpygraph.</p>
<p>The least significant 60 bits are t | hash(s), while the other more significant bits are t</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>any</em>) – node type, usually</p></li>
<li><p><strong>s</strong> (<em>any</em>) – node value, usually</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hash value</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-numpygraph.core.parse">
<span id="numpygraph-core-parse-module"></span><h2>numpygraph.core.parse module<a class="headerlink" href="#module-numpygraph.core.parse" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="numpygraph.core.parse.Parse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">numpygraph.core.parse.</span></span><span class="sig-name descname"><span class="pre">Parse</span></span><a class="headerlink" href="#numpygraph.core.parse.Parse" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Converts attributes dtypes in str format in csv files to dtypes. Converts attributes from inconsistent str form to types that <code class="xref py py-class docutils literal notranslate"><span class="pre">numpygraph.core.arraylist.Arraylist</span></code> and <a class="reference internal" href="#numpygraph.core.arraydict.ArrayDict" title="numpygraph.core.arraydict.ArrayDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpygraph.core.arraydict.ArrayDict</span></code></a> can store (ignoreing str types).</p>
<dl class="py method">
<dt class="sig sig-object py" id="numpygraph.core.parse.Parse.get_type">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_as_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.parse.Parse.get_type" title="Permalink to this definition"></a></dt>
<dd><p>Convert dtype in str form to dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>type_as_str</strong> (<em>str</em>) – dtype in str format</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dtype</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="numpygraph.core.parse.Parse.get_value">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_as_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#numpygraph.core.parse.Parse.get_value" title="Permalink to this definition"></a></dt>
<dd><p>Convert attributes values from various types to built-in forms, ignoring types that ArrayDict and ArrayList cannot store.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value_type</strong> (<em>dtype</em>) – type we want to parse the value to</p></li>
<li><p><strong>value_as_str</strong> (<em>str</em>) – value in str format</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If value_type is str, return value would be None since ArrayDict and ArrayList don’t hold str values; otherwise return value is the parsed value_as_str into type value_type.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-numpygraph.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-numpygraph.core" title="Permalink to this headline"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="numpygraph.html" class="btn btn-neutral float-left" title="numpygraph package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="numpygraph.datasets.html" class="btn btn-neutral float-right" title="numpygraph.datasets package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, hp027, hanryxu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>